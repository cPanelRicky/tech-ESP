image: alpine:latest


shellcheck:
    tags:
        - shellcheck
    before_script:
        - apk add wget xz tar
        - wget "https://storage.googleapis.com/shellcheck/shellcheck-latest.linux.x86_64.tar.xz"
        - tar -xvf shellcheck-latest.linux.x86_64.tar.xz
        - cp shellcheck-latest/shellcheck /usr/bin/
    script: /usr/bin/shellcheck esp

source_test:
    tags:
        - source
    before_script:
        - TERM=xterm-256color
        - TECH=r.grassmuck
        - SSP=0
        - export TERM TECH SSP
    script: 
        - /bin/bash -c 'source esp'
